{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ title }}{% endblock %}</title>
    <script src="https://unpkg.com/tailwindcss-cdn"></script>

<link rel="stylesheet" href="{% static 'css/style.css' %}">
{% block extra_css %}{% endblock %}

<style>
  /* –ö–æ—Ä–∑–∏–Ω–∞ –≤ —à–∞–ø–∫–µ (–≤—Ç–æ—Ä–æ–π —à–∞–±–ª–æ–Ω) */
  .header-actions .cart-icon {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-left: 16px;
  }

  .header-actions .cart-icon svg {
      display: block;
  }

  #cart-counter.cart-count-badge {
      position: absolute;
      top: -6px;
      right: -10px;
      min-width: 16px;
      height: 16px;
      padding: 0 4px;
      border-radius: 999px;
      background: #00BCD4;
      color: #ffffff;
      font-size: 11px;
      line-height: 16px;
      text-align: center;
      font-weight: 600;
  }


  /* –ö–æ—Ä–∑–∏–Ω–∞ –≤ —à–∞–ø–∫–µ (–≤—Ç–æ—Ä–æ–π —à–∞–±–ª–æ–Ω) */
  .header-actions .cart-icon {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-left: 16px;
  }

  .header-actions .cart-icon svg {
      display: block;
  }

  #cart-counter.cart-count-badge {
      position: absolute;
      top: -6px;
      right: -10px;
      min-width: 16px;
      height: 16px;
      padding: 0 4px;
      border-radius: 999px;
      background: #00BCD4;
      color: #ffffff;
      font-size: 11px;
      line-height: 16px;
      text-align: center;
      font-weight: 600;
  }

  /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç–æ) */
  .mobile-menu {
      display: none;
  }

  .mobile-menu.open {
      display: block;
  }

  /* –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤ –∏–º–µ–Ω–Ω–æ –ø–æ–¥ –º–æ–±–∏–ª–∫–∏ */
  @media (min-width: 1024px) {
      .mobile-menu {
          display: none !important;
      }
  }
  @media (max-width: 640px) {
  .header.header--compact .btn.btn-primary {
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
  }
}
</style>



<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105346552', 'ym');

    ym(105346552, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105346552&quot; style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
</head>
<body>
    <!-- Animated Gradient Background -->
    <div class="gradient-bg">
        <div class="gradient-layer-1"></div>
        <div class="gradient-layer-2"></div>
    </div>

    <!-- Header -->
<header class="header {% if page == 'cart' %}header--compact{% endif %}">
    <div class="container">
        <div class="header-content">
            <!-- Logo -->
            <a href="{% url 'letsplay:home' %}" class="logo">
                <div class="logo-box">
                    <span>LetsPlay</span>
                </div>
            </a>

            <!-- Desktop Navigation -->
            <nav class="nav-desktop">
                <a href="{% url 'letsplay:home' %}" class="nav-link {% if page == 'home' %}active{% endif %}">–ì–õ–ê–í–ù–ê–Ø</a>
                <a href="{% url 'letsplay:about' %}" class="nav-link {% if page == 'about' %}active{% endif %}">–û –ù–ê–°</a>
                <a href="{% url 'letsplay:catalog' %}" class="nav-link {% if page == 'catalog' %}active{% endif %}">–ö–ê–¢–ê–õ–û–ì</a>
                <a href="{% url 'letsplay:reviews' %}" class="nav-link {% if page == 'reviews' %}active{% endif %}">–û–¢–ó–´–í–´</a>

            </nav>

            <!-- Contact & CTA -->
            <div class="header-actions">
                <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
                <div class="phone-number">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <span>+7 999 499 36 41</span>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ -->
                <a href="{% url 'letsplay:catalog' %}" class="btn btn-primary">–í—ã–±—Ä–∞—Ç—å –ø—Ä–∏—Å—Ç–∞–≤–∫—É</a>
                 <!-- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ -->
                    <!-- –ö–û–†–ó–ò–ù–ê -->
                    <a href="{% url 'letsplay:cart_view' %}" class="cart-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                             viewBox="0 0 24 24" stroke-width="1.5"
                             stroke="currentColor" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M2.25 2.25l1.5 1.5m0 0L6 12.75h12.75L21 6H5.25m-1.5-2.25L5.25 6m0 0l.75 3M6 12.75h12.75M9 21a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm9 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                        </svg>
                        <span id="cart-counter" class="cart-count-badge">
                            {{ cart_count }}
                        </span>
                    </a>
                <!-- –ö–æ—Ä–∑–∏–Ω–∞
                <div class="cart-icon position-relative" style="margin-left: 15px;">
                    <a href="{% url 'letsplay:cart_view' %}" class="nav-link position-relative" style="display: flex; align-items: center; font-size: 20px;">
                        üõí
                        {% if cart_count > 0 %}
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                {{ cart_count }}
                            </span>
                        {% endif %}
                    </a>
                </div>-->

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <svg class="icon menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                    <svg class="icon close-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <nav class="mobile-nav">
                <a href="{% url 'letsplay:home' %}" class="nav-link {% if page == 'home' %}active{% endif %}">–ì–õ–ê–í–ù–ê–Ø</a>
                <a href="{% url 'letsplay:about' %}" class="nav-link {% if page == 'about' %}active{% endif %}">–û –ù–ê–°</a>
                <a href="{% url 'letsplay:catalog' %}" class="nav-link {% if page == 'catalog' %}active{% endif %}">–ö–ê–¢–ê–õ–û–ì</a>
                <a href="{% url 'letsplay:reviews' %}" class="nav-link {% if page == 'reviews' %}active{% endif %}">–û–¢–ó–´–í–´</a>
<a href="{% url 'letsplay:cart_view' %}" class="nav-link {% if page == 'cart_view' %}active{% endif %}">–ö–û–†–ó–ò–ù–ê</a>
                <div class="mobile-phone">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <span>+7 999 499 36 41</span>
                </div>

                <a href="{% url 'letsplay:catalog' %}" class="btn btn-primary btn-full">–í—ã–±—Ä–∞—Ç—å –ø—Ä–∏—Å—Ç–∞–≤–∫—É</a>

                <!-- –ö–æ—Ä–∑–∏–Ω–∞ (–≤ –º–æ–±–∏–ª–∫–µ)
                <a href="{% url 'letsplay:cart_view' %}" class="nav-link mt-3 text-center" style="font-size: 18px;">
                    üõí –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞
                    {% if cart_count > 0 %}
                        <span class="badge bg-danger">{{ cart_count }}</span>
                    {% endif %}
                </a>-->
            </nav>
        </div>
    </div>
</header>


    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <!-- Company Info -->
                <div class="footer-section">
                    <div class="logo-box logo-footer">
                        <span>LetsPlay</span>
                    </div>
                    <p class="footer-text">–ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–Ω—Å–æ–ª–µ–π PlayStation –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ</p>
                </div>

                <!-- Navigation -->
                <div class="footer-section">
                    <h3 class="footer-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <nav class="footer-nav">
                        <a href="{% url 'letsplay:home' %}">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="{% url 'letsplay:about' %}">–û –Ω–∞—Å</a>
                        <a href="{% url 'letsplay:catalog' %}">–ö–∞—Ç–∞–ª–æ–≥</a>
                        <a href="{% url 'letsplay:reviews' %}">–û—Ç–∑—ã–≤—ã</a>
                    </nav>
                </div>

                <!-- Catalog -->
                <div class="footer-section">
                    <h3 class="footer-title">–ö–∞—Ç–∞–ª–æ–≥</h3>
                    <nav class="footer-nav">
                        <a href="{% url 'letsplay:catalog' %}">PlayStation 5</a>
                        <a href="{% url 'letsplay:catalog' %}">PlayStation 4</a>
                        <a href="{% url 'letsplay:catalog' %}">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a>
                        <a href="{% url 'letsplay:catalog' %}">–ü–æ–¥–ø–∏—Å–∫–∏</a>
                    </nav>
                </div>

                <!-- Contacts -->
                <div class="footer-section">
                    <h3 class="footer-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <div class="footer-contacts">
                        <p>–≥. –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</p>
                        <p>—É–ª. –¢—É—Ä–≥–µ–Ω–µ–≤–∞ 3</p>
                        <p>+7 999 499 36 41</p>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 LetsPlay. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/main.js' %}"></script>

    <script>
document.addEventListener('DOMContentLoaded', function () {
    const btn  = document.getElementById('mobileMenuBtn');
    const menu = document.getElementById('mobileMenu');

    if (!btn || !menu) return;

    const menuIcon  = btn.querySelector('.menu-icon');
    const closeIcon = btn.querySelector('.close-icon');

    btn.addEventListener('click', function () {
        // –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–ª–∞—Å—Å –Ω–∞ –º–µ–Ω—é
        const isOpen = menu.classList.toggle('open');

        // –º–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫–∏ (–≥–∞–º–±—É—Ä–≥–µ—Ä / –∫—Ä–µ—Å—Ç–∏–∫)
        if (menuIcon && closeIcon) {
            if (isOpen) {
                menuIcon.classList.add('hidden');
                closeIcon.classList.remove('hidden');
            } else {
                closeIcon.classList.add('hidden');
                menuIcon.classList.remove('hidden');
            }
        }
    });
});
</script>


    {% block extra_js %}{% endblock %}
</body>
</html>
